<!DOCTYPE html>
<html>
    <head>
        <title>Rock Paper Scissors</title>
    </head> 

    <body>
        <p>Rock Paper Scissors</p>
        <button onclick="rockPaperScissors('Rock')">Rock</button>
        <button onclick="rockPaperScissors('Paper')">Paper</button>
        <button onclick="rockPaperScissors('Scissors')">Scissors</button>

        <p class="js-FinalResult"></p>

        <button onclick="
           localStorage.removeItem('score')
            score = {
                        Win:0,
                        Lose:0,
                        Tie:0
                    }
            resultPage.innerHTML = ''
        ">Reset Score</button>
        
        <script>

            let score = JSON.parse(localStorage.getItem('score'))  
            if (!score ) {
                    score = {
                        Win:0,
                        Lose:0,
                        Tie:0
                    }
                }
            const resultPage = document.querySelector('.js-FinalResult')
            
            function rockPaperScissors(yourChoose){
                const randomNum = Math.random()
                let computerChoose = ''

                if (randomNum<1/3 && randomNum>=0) {
                    computerChoose = 'Rock'
                } else if (randomNum>=1/3 && randomNum<2/3) {
                    computerChoose ='Paper'
                } else {
                    computerChoose ='Scissors'
                }

                if(yourChoose === computerChoose){
                    result = 'Tie'
                    score.Tie+=1
                }else if(yourChoose === 'Rock' && computerChoose === 'Scissors' ||
                        yourChoose === 'Paper' && computerChoose === 'Rock' ||
                        yourChoose === 'Scissors' && computerChoose === 'Paper'
                ){
                    result = 'Win'
                    score.Win+=1
                }else {
                    result = 'Lose'
                    score.Lose+=1
                }

                localStorage.setItem('score',JSON.stringify(score))

                resultPage.innerHTML = `You ${yourChoose} - Computer ${computerChoose}. <br> 
                ${result} <br>
                Win: ${score.Win} - Lose: ${score.Lose} - Tie: ${score.Tie}`
            }
        </script>
    </body>

</html>